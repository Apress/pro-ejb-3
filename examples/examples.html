<html>
  <head><title>Pro EJB 3: Java Persistence API Examples</title></head>
<body>
<h1>Pro EJB 3: Java Persistence API Examples</h1>
<h3>Java SE Examples</h3>
The SE examples (Chapter 2) do not require a running server.  Simply go to the chapter's 
example folder and run the batch file for the example.
</br>
<h3>Java EE Examples</h3>
The other examples require a running application server.  Go to the 'bin' folder and start
the Glassfish application server using the batch file (startserver.bat).  Once started, go
to the desired chapter's example folder and build/deploy the application using the deploy.bat
batch file.  Once that is done, come back to this page and click on the link of the desired 
example.  This will provide you with a web client to run the example.
<ul>
    <li><b>Chapter 2: Getting Started</b>
        <ul>
            <li>These examples demonstate the Java Persistence API in an SE environment. To run,
			    go to the Chapter2 folder and run the batch file for the example. It provides both
				a simple interactive client to create/list/remove employees and a basic test like 
				the one found in the chapter.</li>
        </ul>
    <li><b>Chapter 3: Enterprise Applications</b>
        <ul>
            <li>1.<a href="http://localhost:8080/slsbExample/HelloServiceServlet">SLSB Example</a></li>
            <li>2.<a href="http://localhost:8080/slsbLifecycleExample/LoggerServlet">SLSB Lifecycle Example</a></li>
            <li>3a.<a href="http://localhost:8080/slsbRemoteExample/HelloServiceServlet">SLSB Remote Example</a></li>
            <li>3b.The SLSB Remote example also has a fat client that can be run by going to the
			    example's folder (Chapter3/03-slsbRemoteExample) and running the runClient.bat batch file.</li>
            <li>4.<a href="http://localhost:8080/sfsbExample/ShoppingCartServlet">SFSB Example</a></li>
            <li>5.<a href="http://localhost:8080/sfsbLifecycleExample/OrderBrowserServlet">SFSB Lifecycle Example</a></li>
            <li>6.<a href="http://localhost:8080/mdbExample/ReportProcessorServlet">MDB Example</a></li>
            <li>7.<a href="http://localhost:8080/servletExample/LoginServlet">Servlet Example</a></li>
            <li>8.<a href="http://localhost:8080/initialContextLookup/DepartmentServiceServlet">Dependency Lookup Example (using InitialContext)</a></li>
            <li>9.<a href="http://localhost:8080/ejbContextLookup/DepartmentServiceServlet">Dependency Lookup Example (using EJBContext)</a></li>
            <li>10.<a href="http://localhost:8080/fieldInjection/DepartmentServiceServlet">Field Injection Example</a></li>
            <li>11.<a href="http://localhost:8080/setterInjection/DepartmentServiceServlet">Setter Injection Example</a></li>
			<li>Note: Injection of other EntityManager and EntityManagerFactory instances is shown in example 15 and throughout the examples in subsequent chapters.  Injection of a SessionConext can be seen in example 9.</li>
            <li>12.<a href="http://localhost:8080/bmtExample/ProcessingServiceServlet">Bean Managed Transaction (BMT) Demarcation Example</a></li>
            <li>13.<a href="http://localhost:8080/cmtExample/ShoppingCartServlet">Container Managed Transaction (CMT) Demarcation Example</a></li>
            <li>14.<a href="http://localhost:8080/userTxExample/ProjectServlet">UserTransaction Example</a></li>
            <li>15.<a href="http://localhost:8080/employeeService_ch3/EmployeeServlet">Complete EmployeeService Example</a></li>
        </ul>
    </li>
    <li><b>Chapter 4: Object-Relational Mapping</b>
        <ul>
            <li>1.<a href="http://localhost:8080/fieldAccess/EmployeeServlet">Field Access Example</a></li>
            <li>2.<a href="http://localhost:8080/propertyAccess/EmployeeServlet">Property Access Example</a></li>
            <li>3.<a href="http://localhost:8080/customTableSchema/EmployeeServlet">Custom Table/Schema Example</a></li>

			<b>Basic Mappings</b>
			<ul>
            <li>4.<a href="http://localhost:8080/customColumnMapping/EmployeeServlet">Custom Column Mapping Example</a></li>
            <li>5.<a href="http://localhost:8080/lobMapping/EmployeeServlet">LOB Mapping Example</a></li>
            <li>6.<a href="http://localhost:8080/enumMapping/EmployeeServlet">Enum Mapping Example</a></li>
            <li>7.<a href="http://localhost:8080/temporalMapping/EmployeeServlet">Temporal Mapping Example</a></li>
            <li>8.<a href="http://localhost:8080/transientMapping/EmployeeServlet">Transient Mapping Example</a></li>
			</ul>

			<b>Id Generation</b>
			<ul>
            <li>9.<a href="http://localhost:8080/autoIdGeneration/EmployeeServlet">Auto Id Generation Example</a></li>
            <li>10.<a href="http://localhost:8080/tableIdGeneration/EmployeeServlet">Table Id Generation Example</a></li>
            <li>11.<a href="http://localhost:8080/sequenceIdGeneration/EmployeeServlet">Sequence Id Generation Example</a> (The Derby database does not support this feature)</li>
            <li>12.<a href="http://localhost:8080/dbIdentityIdGeneration/EmployeeServlet">DB Identity Id Generation Example</a></li>
			</ul>

			<b>Relationship Mappings</b>
			<ul>
            <li>13.<a href="http://localhost:8080/manyToOne/EmployeeServlet">Many-to-One Example</a></li>
            <li>14.<a href="http://localhost:8080/joinColumn/EmployeeServlet">Many-to-One Join Column Example</a></li>
            <li>15.<a href="http://localhost:8080/oneToOneUnidirectional/EmployeeServlet">One-to-One Unidirectional Example</a></li>
            <li>16.<a href="http://localhost:8080/oneToOneBidirectional/EmployeeServlet">One-to-One Bidirectional Example</a></li>
            <li>17.<a href="http://localhost:8080/oneToOnePkMapping/EmployeeServlet">One-to-One PK Mapping Example</a></li>
            <li>18.<a href="http://localhost:8080/oneToManyBidirectional/EmployeeServlet">One-to-Many Bidirectional Example</a></li>
            <li>19.<a href="http://localhost:8080/oneToManyTargetEntity/EmployeeServlet">One-to-Many Target Entity Example</a></li>
            <li>20.<a href="http://localhost:8080/manyToManyBidirectional/EmployeeServlet">Many-to-Many Bidirectional Example</a></li>
            <li>21.<a href="http://localhost:8080/manyToManyJoinTable/EmployeeServlet">Many-to-Many Join Table Example</a></li>
            <li>22.<a href="http://localhost:8080/oneToManyUnidirectional/EmployeeServlet">One-to-Many Unidirectional Example</a></li>
            <li>23.<a href="http://localhost:8080/oneToManyList/EmployeeServlet">One-to-Many List Example</a></li>
            <li>24.<a href="http://localhost:8080/oneToManyMap/EmployeeServlet">One-to-Many Map Example</a></li>
            <li>25.<a href="http://localhost:8080/oneToOneLazy/EmployeeServlet">One-to-One Lazy Fetching Example</a></li>
			</ul>
        </ul>
    </li>
    <li><b>Chapter 5: Entity Manager</b>
        <ul>
            <li>1.<a href="http://localhost:8080/txScopedEmExample/EmployeeServiceServlet">Tx-Scoped Entity Manager Example</a></li>
            <li>2.<a href="http://localhost:8080/extendedEmExample/EmployeeServiceServlet">Extended Entity Manager Example 1</a></li>
            <li>3.<a href="http://localhost:8080/extendedEmExample2/EmployeeServiceServlet">Extended Entity Manager Example 2</a></li>
            <li>4.<a href="http://localhost:8080/extendedEmExample3/EmployeeServiceServlet">Extended Entity Manager Example 3 (correct usage)</a></li>
            <li>5.Application Managed EntityManager in SE Example (run from folder)</li>
            <li>6.<a href="http://localhost:8080/applicationManagedEE/LoginServlet">Application Managed Entity Manager in EE Example</a></li>
            <li>7.<a href="http://localhost:8080/txScopedPersistenceContext/EmployeeServiceServlet">Transaction Scoped Persistence Context Example</a></li>
            <li>8.<a href="http://localhost:8080/extendedPersistenceContext/EmployeeServiceServlet">Extended  Persistence Context Example</a></li>
            <li>9.<a href="http://localhost:8080/persistenceContextCollision/EmployeeServiceServlet">Extended  Persistence Context Collision Example</a></li>
            <li>10.<a href="http://localhost:8080/persistenceContextInheritance/EmployeeServiceServlet">Extended  Persistence Context Inheritance Example</a></li>
            <li>11.<a href="http://localhost:8080/applicationManagedJTA/EmployeeServiceServlet">Application Managed EntityManager with JTA Example</a></li>
            <li>12.<a href="http://localhost:8080/sharingApplicationManagedJTA/EmployeeServlet">Sharing Application Managed EntityManagers Example</a></li>
            <li>13.Resource-Local Transaction in SE Example (run from folder)</li>
            <li>14.<a href="http://localhost:8080/resourceLocalTxEE/LoggingServlet">Resource-Local Transaction in EE Example</a></li>
            <li>15.<a href="http://localhost:8080/persistingWithRelationships/EmployeeServiceServlet">Persisting Entities with Relationships Example</a></li>
            <li>16.<a href="http://localhost:8080/persistingWithRelationshipsUsingGetReference/EmployeeServiceServlet">Persisting Entities with Relationships (using getReference) Example</a></li>
            <li>17.<a href="http://localhost:8080/removingWithRelationships/EmployeeServiceServlet">Removing Entities with Relationships Example</a></li>
            <li>18.<a href="http://localhost:8080/persistingWithRelationshipsCascade/EmployeeServiceServlet">Persisting Entities with Relationships using Cascade Example</a></li>
            <li>19.<a href="http://localhost:8080/removingWithRelationshipsCascade/EmployeeServiceServlet">Removing Entities with Relationships using Cascade Example</a></li>
            <li>20.<a href="http://localhost:8080/mergingDetachedEntities/EmployeeServiceServlet">Merging Detached Entities Example</a></li>
            <li>21.<a href="http://localhost:8080/detachmentWithTriggeredLazyLoading/EmployeeServlet">Triggering Lazy Loading before Detaching Entities Example</a></li>
            <li>22.<a href="http://localhost:8080/detachmentWithEagerLoading/EmployeeServlet">Using Eager Loading for Detaching Entities Example</a></li>
            <li>23.<a href="http://localhost:8080/noDetachmentSingleTx/EmployeeServlet">Avoiding Detaching Entities by using a Single Transaction Example</a></li>
            <li>24.<a href="http://localhost:8080/noDetachmentAppManagedEm/EmployeeServlet">Avoiding Detaching Entities by using an Application Managed EntityManager Example</a></li>
            <li>25.<a href="http://localhost:8080/noDetachmentSFSBAndExtendedEm/EmployeeServlet">Avoiding Detaching Entities by using a SFSB and an extended EntityManager Example</a></li>
            <li>26.<a href="http://localhost:8080/editSessionExample/EmployeeServiceServlet">Using a SFSB and an Extended EntityManager to avoid merging Entities Example</a></li>
        </ul>
    </li>
    <li><b>Chapter 6: Using Queries</b>
        <ul>
            <li>1.<a href="http://localhost:8080/dynamicQueryExample/QueryServiceServlet">Dynamic Query Example</a></li>
            <li>2.<a href="http://localhost:8080/namedQueryExample/EmployeeServiceServlet">Named Query Example</a></li>
            <li>3.<a href="http://localhost:8080/paramTypesExample/EmployeeServiceServlet">Parameter Types Example</a></li>
            <li>4.<a href="http://localhost:8080/executingQueriesExample/EmployeeServiceServlet">Executing Queries Example</a></li>
            <li>5.<a href="http://localhost:8080/queryResultsExample/EmployeeServiceServlet">Query Results Example</a></li>
            <li>6.<a href="http://localhost:8080/queryPagingExample/EmployeePagingServlet">Query Paging Example</a></li>
            <li>7.<a href="http://localhost:8080/messageBoardExample/MessageBoardServlet">Message Board Example</a></li>
            <li>8.<a href="http://localhost:8080/bulkQueryExample/EmployeeServiceServlet">Bulk Query Examples</a></li>
            <li>9.<a href="http://localhost:8080/queryHintsExample/EmployeeServiceServlet">Query Hint Examples</a></li>
        </ul>
    </li>
    <li><b>Chapter 7: Query Language</b>
        <ul>
            <li><a href="http://localhost:8080/jpqlExamples/index.html">JPQL Examples</a></li>
        </ul>
    </li>
    <li><b>Chapter 8: Advanced Object-Relational Mapping</b>
        <ul>
            <li>1.<a href="http://localhost:8080/embeddedObjects/EmployeeServiceServlet">Using Embedded Objects Example</a></li>
            <li>2.<a href="http://localhost:8080/sharingEmbeddedObjects/EmployeeServiceServlet">Sharing Embedded Objects Example</a></li>
            <li>3.<a href="http://localhost:8080/compoundPrimaryKey/EmployeeServiceServlet">Compound Primary Key Example</a></li>
            <li>4.<a href="http://localhost:8080/embeddedCompoundPrimaryKey/EmployeeServiceServlet">Embedded Compound Primary Key Example</a></li>
            <li>5.<a href="http://localhost:8080/compoundJoinColumns/EmployeeServiceServlet">Compound Join Columns Example</a></li>
            <li>6.<a href="http://localhost:8080/idContainingRelationship/ProjectServiceServlet">Id Containing a Relationship Example</a></li>
            <li>7.<a href="http://localhost:8080/mappingRelationshipState/EmployeeServiceServlet">Mapping Relationship State Example</a></li>
            <li>8.<a href="http://localhost:8080/multipleTables/EmployeeServiceServlet">Multiple Tables Example</a></li>
            <li>9.<a href="http://localhost:8080/embeddedObjectsMultipleTables/EmployeeServiceServlet">Mapping Embedded Objects to Multiple Tables Example</a></li>
            <li>10.<a href="http://localhost:8080/multipleTableCompoundPrimaryKey/EmployeeServiceServlet">Multiple Tables and Compound Primary Key Relationships Example</a></li>
            <li>11.<a href="http://localhost:8080/singleTableInheritance/EmployeeServiceServlet">Single Table Inheritance Example</a></li>
            <li>12.<a href="http://localhost:8080/joinedTableInheritance/EmployeeServiceServlet">Joined Table Inheritance Example</a></li>
            <li>13.<a href="http://localhost:8080/tablePerConcreteClassInheritance/EmployeeServiceServlet">Table per Concrete Class Inheritance Example</a>(currently not supported by Essentials)</li>
            <li>14.<a href="http://localhost:8080/mixedInheritance/EmployeeServiceServlet">Mixed Inheritance Example</a></li>
        </ul>
    </li>
    <li><b>Chapter 9: Advanced Topics</b>
        <ul>
		    <b>Native Queries</b>
			<ul>
                <li>1.<a href="http://localhost:8080/nativeQueries/EmployeeServlet">Basic Native Queries Example</a></li>
                <li>2.<a href="http://localhost:8080/sqlInsertDelete/LoggerServlet">Sql INSERT/DELETE Example</a></li>
                <li>3.<a href="http://localhost:8080/sqlResultSetMappings/EmployeeServlet">Sql ResultSetMapping Example</a></li>
                <li>4.<a href="http://localhost:8080/idClassResultMapping/EmployeeServiceServlet">Id Class ResultSetMapping Example</a></li>
                <li>5.<a href="http://localhost:8080/embeddedIdResultMapping/EmployeeServiceServlet">Embedded Id ResultSetMapping Example</a></li>
                <li>6.<a href="http://localhost:8080/inheritanceResultMapping/EmployeeServiceServlet">Inheritance ResultSetMapping Example</a></li>
            </ul>
		    <b>Entity Lifecycle Callbacks</b>
			<ul>
                <li>7.<a href="http://localhost:8080/lifecycleCallbacks/EmployeeServiceServlet">Entity Lifecycle Callback Example</a></li>
                <li>8.<a href="http://localhost:8080/lifecycleCallbackInheritance/EmployeeServiceServlet">Lifecycle Callback Inheritance Example</a></li>
            </ul>
		    <b>Locking</b>
			<ul>
                <li>9.<a href="http://localhost:8080/entityRefresh/EmployeeServiceServlet">Refresh Entity Example</a></li>
                <li>10.<a href="http://localhost:8080/entityRevert/EmployeeServiceServlet">Revert Entity Example</a></li>
                <li>11.<a href="http://localhost:8080/readLocking/EmployeeServlet">Read Locking Example</a></li>
                <li>12.<a href="http://localhost:8080/writeLocking/EmployeeServlet">Write Locking Example</a></li>
                <li>13.<a href="http://localhost:8080/optimisticLocking/EmployeeServiceServlet">Optimistic Locking Example</a></li>
            </ul>
		    <b>Schema Generation</b> (deploy example and see the generated DDL scripts at "EXAMPLES_HOME"\glassfish\domains\domain1\generated\ejb\j2ee-apps)
			<ul>
                <li>14.Unique Constraints Example (Note Derby DB requires a UNIQUE field to also be NON-NULL)</li>
                <li>15.Unique Constraints Example2 (Note Derby DB requires a UNIQUE field to also be NON-NULL)</a></li>
                <li>16.Null Constraints Example</a></li>
                <li>17.String-Based Columns Example</a></li>
                <li>18.Floating Point Columns Example</a></li>
                <li>19.Column Definition Example</a></li>
            </ul>
        </ul>
    </li>
    <li><b>Chapter 10: XML Mapping Files</b>
        <ul>
            <li><a href="http://localhost:8080/xmlMappings/EmployeeServlet">XML Mappings Example</a></li>
        </ul>
    </li>
    <li><b>Chapter 11: Packaging and Deployment</b>
        <ul>
            <li>1.<a href="http://localhost:8080/ejbJarPackaging/EmployeeServlet">Entities Packaged in an EJB Jar</a></li>
            <li>2.<a href="http://localhost:8080/externalJarPackaging/EmployeeServlet">Entities Packaged in an external Jar</a></li>
            <li>3.<a href="http://localhost:8080/webInfClassesPackaging/EmployeeServlet">Entities Packaged in WEB-INF/classes</a></li>
            <li>4.<a href="http://localhost:8080/persistenceArchivePackaging/EmployeeServlet">Entities Packaged in a Persistence archive</a></li>
		    <li>5.For Outside the server examples, see the packaging used in Chapter 2.</li>
        </ul>
    </li>
    <li><b>Chapter 12: Testing</b>
        <ul>
		    <li>These examples all run in Java SE and can be executed directly from the example folder.</li>
		</ul>
    </li>
    <li><b>Chapter 13: Migration</b>
        <ul>
            <li><a href="http://localhost:8080/entityBeanMigration/EmployeeServiceServlet">Migrated Entity Facade Examples</a></li>
		</ul>
    </li>
</ul>
</body>
</html>
